/*
* Slidorion, An Image Slider and Accordion Combined
* Intructions: http://www.slidorion.com
* Created by Ben Holland - http://www.ben-holland.co.uk
* Version: 1.0
* Copyright 2011 Ben Holland <benholland99@gmail.com>
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
(function(a){a.fn.extend({slidorion:function(b){var c={autoPlay:true,easing:"",effect:"fade",first:1,interval:5e3,hoverPause:false,speed:1e3};var b=a.extend(c,b);return this.each(function(){function H(){for(var b=m;b>0;b--){a("#slider > div:eq("+(b-1)+")",s).css("z-index",l);l++}}function G(a){if(a==m){a=0;return a}else{return a}}function F(){clearInterval(s.data("interval"));z=setInterval(function(){C(d,g,f,h)},i);s.data("interval",z)}function E(){clearInterval(s.data("interval"))}function D(){z=setInterval(function(){C(d,g,f,h)},i);s.data("interval",z)}function C(b,c,d,e){var f=G(b);a("#accordion .link-header:eq("+f+")",s).trigger("click",B)}function B(){if(p==false&&q==true){$objHeader=a(this,s);var b=$objHeader.index()/2+1;if(b==d){return false}else{a(".link-header.active",s).removeClass("active").next(".link-content").slideUp();$objHeader.addClass("active").next(".link-content").slideDown();A(d,b,g,f,h)}l++;d=b;return false}}function A(b,c,d,e,f){if(!p&&q){p=true;if(k==true&&o==false){F()}$current=a("#slider > div:eq("+(b-1)+")",s);$new=a("#slider > div:eq("+(c-1)+")",s);var g=$current.outerWidth();var h=$current.outerHeight();if(d=="random"){var i=Math.floor(Math.random()*t.length);d=t[i];while(d==r){var i=Math.floor(Math.random()*t.length);d=t[i]}}else if(d=="slideRandom"){var i=Math.floor(Math.random()*u.length);d=u[i];while(d==r){var i=Math.floor(Math.random()*u.length);d=u[i]}}else if(d=="overRandom"){var i=Math.floor(Math.random()*v.length);d=v[i];while(d==r){var i=Math.floor(Math.random()*v.length);d=v[i]}}r=d;switch(d){case"fade":$new.css({"z-index":l,top:"0",left:"0",display:"none"}).fadeIn(e);break;case"slideLeft":$new.css({left:g,top:"0",opacity:"1","z-index":l});$current.animate({left:"-="+g,top:"0",opacity:"1"},{queue:true,duration:e,easing:f});$new.animate({left:"-="+g,top:"0",opacity:"1"},{queue:true,duration:e,easing:f});break;case"slideRight":$new.css({left:"-"+g+"px",top:"0",opacity:"1","z-index":l});$current.animate({left:"+="+g,top:"0",opacity:"1"},{queue:true,duration:e,easing:f});$new.animate({left:"+="+g,top:"0",opacity:"1"},{queue:true,duration:e,easing:f});break;case"slideUp":$new.css({top:h,left:"0",opacity:"1","z-index":l});$current.animate({top:"-="+h,left:"0",opacity:"1"},{queue:true,duration:e,easing:f});$new.animate({top:"-="+h,left:"0",opacity:"1"},{queue:true,duration:e,easing:f});break;case"slideDown":$new.css({top:"-"+h+"px",left:"0",opacity:"1","z-index":l});$current.animate({top:"+="+h,left:"0",opacity:"1"},{queue:true,duration:e,easing:f});$new.animate({top:"+="+h,left:"0",opacity:"1"},{queue:true,duration:e,easing:f});break;case"overLeft":$new.css({left:g,top:"0",opacity:"1","z-index":l});$new.animate({left:"-="+g,top:"0",opacity:"1"},{queue:true,duration:e,easing:f});break;case"overRight":$new.css({left:"-"+g+"px",top:"0",opacity:"1","z-index":l});$new.animate({left:"+="+g,top:"0",opacity:"1"},{queue:true,duration:e,easing:f});break;case"overUp":$new.css({top:h,left:"0",opacity:"1","z-index":l});$new.animate({top:"-="+h,left:"0",opacity:"1"},{queue:true,duration:e,easing:f});break;case"overDown":$new.css({top:"-"+h+"px",left:"0",opacity:"1","z-index":l});$new.animate({top:"+="+h,left:"0",opacity:"1"},{queue:true,duration:e,easing:f});break;case"none":$new.css({"z-index":l});break}setTimeout(function(){p=false},e)}}var c=b;var d=c.first;var e=c.first+1;var f=c.speed;var g=c.effect;var h=c.easing;var i=c.interval;var j=c.hoverPause;var k=c.autoPlay;var l=1;var m=0;var n=0;var o=false;var p=false;var q=false;var r="";var s=a(this);var t=new Array("fade","slideLeft","slideUp","slideRight","slideDown","overLeft","overRight","overUp","overDown");var u=new Array("slideLeft","slideUp","slideRight","slideDown");var v=new Array("overLeft","overRight","overUp","overDown");var w=new Array("wipeDown","wipeUp");var x=new Array("wipeDownFade","wipeUpFade");var y=new Array("wipeDown","wipeUp","wipeDownFade","wipeUpFade");m=a("#slider > div",s).size();s.data("slideCount",m);n=a("#accordion > .link-header",s).size();s.data("accordCount",n);if(m==n){if(k==true){var z=setInterval(function(){C(d,g,f,h)},i);s.data("interval",z)}if(j==true&&k==true){s.hover(function(){o=true;E()},function(){o=false;F()})}H();a("#slider > div:eq("+(d-1)+")",s).css("z-index",l);l++;if(g!="fade"||g!="none"){a("#slider > div",s).css({top:"0",left:"-600px"});a("#slider > div:eq("+(d-1)+")",s).css({top:"0",left:"0"})}a(".link-content",s).hide();a("#accordion .link-header:eq("+(d-1)+")",s).addClass("active").next().show();a(".link-header",s).click(B)}else{alert("The number of slider images does not match the number of accordion sections.");console.log("The number of slider images does not match the number of accordion sections.")}a(window).load(function(){q=true})})}})})(jQuery)